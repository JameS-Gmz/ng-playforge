<!-- Notification Button -->
<div class="notification-container">
    <span *ngIf="unreadCount > 0" class="notification-badge">{{ unreadCount }}</span>

    <!-- Notification Dropdown -->
    <div class="notifications-dropdown" [class.is-open]="isOpen">
        <div class="notifications-header">
            <h3>Notifications</h3>
            <div class="notification-actions">
                <div class="notification-filters">
                    <button [class.active]="currentFilter === 'all'" (click)="setFilter('all')">Tout</button>
                    <button [class.active]="currentFilter === 'game'" (click)="setFilter('game')">Jeux</button>
                    <button [class.active]="currentFilter === 'system'" (click)="setFilter('system')">Syst√®me</button>

                </div>
                <span class="mark-all-read" (click)="markAllAsRead($event)">Tout marquer comme lu</span>
            </div>
        </div>
        <div class="notifications-list">
            <div *ngFor="let notification of filteredNotifications" 
                 class="notification-item" 
                 [class.unread]="!notification.isRead"
                 [class.warning]="notification.type === 'warning'"
                 [class.system]="notification.type === 'system'"
                 [class.game]="notification.type === 'game'"
                 (click)="handleNotificationClick(notification, $event)">
                <div class="notification-content">
                    <div class="notification-header">
                        <p class="notification-title">{{ notification.title }}</p>
                        <button class="delete-notification" (click)="deleteNotification(notification.id, $event)">
                            <span>&times;</span>
                        </button>
                    </div>
                    <p class="notification-message">{{ notification.message }}</p>
                    <div class="notification-footer">
                        <p class="notification-time">{{ notification.time }}</p>
                        <span class="notification-type">{{ getNotificationTypeLabel(notification.type) }}</span>
                    </div>
                </div>
            </div>
            <div *ngIf="filteredNotifications.length === 0" class="no-notifications">
                Aucune notification
            </div>
        </div>
    </div>
</div>
